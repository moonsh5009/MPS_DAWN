{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "CMake: Configure",
            "type": "shell",
            "command": "cmake",
            "args": ["-S", "${workspaceFolder}", "-B", "${workspaceFolder}/build", "-A", "x64"],
            "problemMatcher": [],
            "group": { "kind": "build", "isDefault": false }
        },
        {
            "label": "CMake: Build (Debug)",
            "type": "shell",
            "command": "cmake",
            "args": ["--build", "${workspaceFolder}/build", "--config", "Debug"],
            "problemMatcher": ["$msCompile"],
            "group": { "kind": "build", "isDefault": false },
            "dependsOn": ["CMake: Configure"]
        },
        {
            "label": "CMake: Build (Release)",
            "type": "shell",
            "command": "cmake",
            "args": ["--build", "${workspaceFolder}/build", "--config", "Release"],
            "problemMatcher": ["$msCompile"],
            "group": { "kind": "build", "isDefault": true },
            "dependsOn": ["CMake: Configure"]
        },
        {
            "label": "CMake: Clean",
            "type": "shell",
            "command": "cmake",
            "args": ["--build", "${workspaceFolder}/build", "--target", "clean"],
            "problemMatcher": []
        },
        {
            "label": "WASM: Configure (Debug)",
            "type": "shell",
            "command": "cmd",
            "args": ["/c", "C:\\emsdk\\emsdk_env.bat >nul 2>&1 && set PATH=C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Scripts;%PATH% && emcmake cmake -S ${workspaceFolder} -B ${workspaceFolder}/build-wasm/debug -DCMAKE_BUILD_TYPE=Debug"],
            "problemMatcher": [],
            "group": { "kind": "build", "isDefault": false }
        },
        {
            "label": "WASM: Configure (Release)",
            "type": "shell",
            "command": "cmd",
            "args": ["/c", "C:\\emsdk\\emsdk_env.bat >nul 2>&1 && set PATH=C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Scripts;%PATH% && emcmake cmake -S ${workspaceFolder} -B ${workspaceFolder}/build-wasm/release -DCMAKE_BUILD_TYPE=Release"],
            "problemMatcher": [],
            "group": { "kind": "build", "isDefault": false }
        },
        {
            "label": "WASM: Build (Debug)",
            "type": "shell",
            "command": "cmd",
            "args": ["/c", "C:\\emsdk\\emsdk_env.bat >nul 2>&1 && set PATH=C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Scripts;%PATH% && cmake --build ${workspaceFolder}/build-wasm/debug"],
            "problemMatcher": ["$gcc"],
            "group": { "kind": "build", "isDefault": false },
            "dependsOn": ["WASM: Configure (Debug)"]
        },
        {
            "label": "WASM: Build (Release)",
            "type": "shell",
            "command": "cmd",
            "args": ["/c", "C:\\emsdk\\emsdk_env.bat >nul 2>&1 && set PATH=C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Scripts;%PATH% && cmake --build ${workspaceFolder}/build-wasm/release"],
            "problemMatcher": ["$gcc"],
            "group": { "kind": "build", "isDefault": false },
            "dependsOn": ["WASM: Configure (Release)"]
        },
        {
            "label": "WASM: Build & Serve (Debug)",
            "type": "shell",
            "command": "cmd",
            "args": ["/c", "C:\\emsdk\\emsdk_env.bat >nul 2>&1 && set PATH=C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Scripts;%PATH% && cmake --build ${workspaceFolder}/build-wasm/debug && start /min python -m http.server 8080 --bind 127.0.0.1 --directory ${workspaceFolder}\\build-wasm\\bin\\Debug && timeout /t 1 >nul && start http://127.0.0.1:8080/mps_dawn.html"],
            "problemMatcher": ["$gcc"],
            "group": { "kind": "build", "isDefault": false },
            "dependsOn": ["WASM: Configure (Debug)"]
        },
        {
            "label": "WASM: Build & Serve (Release)",
            "type": "shell",
            "command": "cmd",
            "args": ["/c", "C:\\emsdk\\emsdk_env.bat >nul 2>&1 && set PATH=C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Scripts;%PATH% && cmake --build ${workspaceFolder}/build-wasm/release && start /min python -m http.server 8081 --bind 127.0.0.1 --directory ${workspaceFolder}\\build-wasm\\bin\\Release && timeout /t 1 >nul && start http://127.0.0.1:8081/mps_dawn.html"],
            "problemMatcher": ["$gcc"],
            "group": { "kind": "build", "isDefault": false },
            "dependsOn": ["WASM: Configure (Release)"]
        },
        {
            "label": "WASM: Clean",
            "type": "shell",
            "command": "powershell",
            "args": ["-Command", "Remove-Item -Path '${workspaceFolder}\\build-wasm' -Recurse -Force -ErrorAction SilentlyContinue"],
            "problemMatcher": []
        }
    ]
}
